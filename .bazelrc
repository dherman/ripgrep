build --@rules_rust//rust/toolchain/channel=nightly

# Buildbarn remote execution with explicit platform properties
build:remote --remote_executor=grpc://localhost:8980
build:remote --remote_instance_name=""
build:remote --jobs=64
build:remote --remote_timeout=3600
build:remote --remote_download_toplevel
build:remote --spawn_strategy=remote
build:remote --strategy=Javac=remote
build:remote --strategy=Closure=remote
build:remote --genrule_strategy=remote
build:remote --remote_upload_local_results=true

# Send platform properties that match the workers
build:remote --remote_default_exec_properties=OSFamily=linux
build:remote --remote_default_exec_properties=container-image=docker://ghcr.io/catthehacker/ubuntu:act-22.04@sha256:5f9c35c25db1d51a8ddaae5c0ba8d3c163c5e9a4a6cc97acd409ac7eae239448

# Make remote execution the default
build --config=remote

